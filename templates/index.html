<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HireGuard AI | Advanced Job Fraud Detection</title>
    
    <!-- 3D Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.halo.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.rings.min.js"></script>
    
    <!-- OCR and AI Libraries -->
    <script src="https://unpkg.com/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder@1.3.3"></script>
    
    <!-- UI Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        :root {
            /* Primary Colors */
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --primary-light: rgba(67, 97, 238, 0.1);
            --secondary: #3f37c9;
            --accent: #4895ef;
            --accent-light: rgba(72, 149, 239, 0.1);
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #f72585;
            --danger-light: rgba(247, 37, 133, 0.1);
            
            /* Neutral Colors */
            --dark: #0f0f1a;
            --darker: #0a0a12;
            --darkest: #05050a;
            --light: #f8f9fa;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            
            /* UI Elements */
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --card-hover: rgba(255, 255, 255, 0.08);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --text-tertiary: rgba(255, 255, 255, 0.5);
            
            /* Shadows */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.2);
            --shadow-xl: 0 20px 50px rgba(0, 0, 0, 0.3);
            --shadow-primary: 0 4px 20px rgba(67, 97, 238, 0.3);
            --shadow-accent: 0 4px 20px rgba(72, 149, 239, 0.3);
            --shadow-danger: 0 4px 20px rgba(247, 37, 133, 0.3);
            
            /* Transitions */
            --transition-fast: all 0.15s ease;
            --transition-normal: all 0.3s ease;
            --transition-slow: all 0.5s ease;
            
            /* Borders */
            --border-radius-sm: 4px;
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 16px;
            --border-radius-xxl: 24px;
            --border-radius-full: 9999px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            background-color: var(--dark);
            min-height: 100vh;
            position: relative;
        }
        
        /* Background Overlay - For App Page */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
        }
        
        /* Welcome Page Styles */
        .welcome-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            z-index: 10;
        }
        
        .welcome-content {
            max-width: 800px;
            z-index: 20;
            position: relative;
            padding: 2rem;
            background: rgba(15, 15, 26, 0.7);
            border-radius: var(--border-radius-xl);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-xl);
        }
        
        /* Full-screen background for welcome page */
        #vanta-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            animation: fadeInDown 1s ease;
        }
        
        .tagline {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: var(--text-secondary);
            animation: fadeIn 1s ease 0.3s forwards;
            opacity: 0;
        }
        
        .welcome-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeIn 1s ease 0.6s forwards;
            opacity: 0;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            border-radius: var(--border-radius-lg);
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition-normal);
            cursor: pointer;
            border: none;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            margin: 0.5rem;
            gap: 0.5rem;
            min-width: 180px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            box-shadow: var(--shadow-primary);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(67, 97, 238, 0.4);
        }
        
        .btn-primary:active {
            transform: translateY(1px);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .btn-tertiary {
            background: transparent;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-tertiary:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-3px);
        }
        
        .btn-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--border-radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            cursor: pointer;
            transition: var(--transition-normal);
        }
        
        .btn-icon:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .btn-icon:active {
            transform: translateY(0);
        }
        
        /* Main App Page Styles */
        .app-page {
            min-height: 100vh;
            display: none;
            flex-direction: column;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            width: 100%;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            position: relative;
            z-index: 100;
        }
        
        .app-logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            transition: var(--transition-fast);
        }
        
        .app-logo:hover {
            opacity: 0.9;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
        }
        
        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition-fast);
            font-size: 0.95rem;
        }
        
        .nav-link:hover {
            color: white;
        }
        
        .nav-link.active {
            color: var(--primary);
            font-weight: 600;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--border-radius-full);
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            transition: var(--transition-fast);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .user-avatar:hover {
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .main-content {
            padding: 2rem 0 4rem;
            position: relative;
            flex: 1;
        }
        
        .dashboard-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }
        
        .dashboard-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 700px;
        }
        
        /* Analysis Card */
        .analysis-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-xl);
            padding: 2.5rem;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--card-border);
            backdrop-filter: blur(10px);
            margin-bottom: 3rem;
            transition: var(--transition-normal);
        }
        
        .analysis-card:hover {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        }
        
        .upload-area {
            border: 2px dashed rgba(67, 97, 238, 0.3);
            border-radius: var(--border-radius-lg);
            padding: 3rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        .upload-area:hover {
            border-color: var(--accent);
            background: rgba(67, 97, 238, 0.05);
        }
        
        .upload-area.active {
            border-color: var(--accent);
            background: rgba(67, 97, 238, 0.05);
        }
        
        .upload-area.error {
            border-color: var(--danger);
            background: rgba(247, 37, 133, 0.05);
        }
        
        .upload-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }
        
        .upload-text h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .upload-text p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }
        
        .file-input {
            display: none;
        }
        
        /* Process Animation */
        .process-animation {
            width: 100%;
            height: 200px;
            position: relative;
            margin: 2rem 0;
            display: none;
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            height: 100%;
        }
        
        .process-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }
        
        .step-indicator {
            width: 60px;
            height: 60px;
            border-radius: var(--border-radius-full);
            background: rgba(67, 97, 238, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            border: 2px solid rgba(67, 97, 238, 0.3);
            transition: var(--transition-normal);
        }
        
        .process-step.active .step-indicator {
            background: rgba(67, 97, 238, 0.2);
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
        }
        
        .process-step.completed .step-indicator {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .step-icon {
            font-size: 1.5rem;
        }
        
        .step-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
            max-width: 100px;
        }
        
        .process-line {
            position: absolute;
            top: 30px;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(67, 97, 238, 0.2);
            z-index: 1;
        }
        
        .progress-line {
            position: absolute;
            top: 30px;
            left: 0;
            height: 2px;
            background: var(--primary);
            z-index: 2;
            transition: width 0.5s;
        }
        
        /* Results Section */
        .results-section {
            display: none;
            margin-top: 3rem;
            animation: fadeIn 0.5s ease;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .result-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .result-score {
            padding: 0.5rem 1.2rem;
            border-radius: var(--border-radius-full);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .score-high {
            background: rgba(247, 37, 133, 0.15);
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        .score-medium {
            background: rgba(248, 150, 30, 0.15);
            color: var(--warning);
            border: 1px solid var(--warning);
        }
        
        .score-low {
            background: rgba(76, 201, 240, 0.15);
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .result-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            transition: var(--transition-normal);
        }
        
        .result-card:hover {
            transform: translateY(-5px);
            background: var(--card-hover);
            box-shadow: var(--shadow-md);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .card-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .card-score {
            padding: 0.3rem 0.8rem;
            border-radius: var(--border-radius-full);
            font-weight: 500;
            font-size: 0.8rem;
        }
        
        .card-content {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .card-content ul {
            margin-top: 0.8rem;
            padding-left: 1.2rem;
        }
        
        .card-content li {
            margin-bottom: 0.5rem;
        }
        
        .red-flag {
            color: var(--danger);
            font-weight: 500;
        }
        
        .yellow-flag {
            color: var(--warning);
            font-weight: 500;
        }
        
        .green-flag {
            color: var(--success);
            font-weight: 500;
        }
        
        /* Extracted Text Section */
        .extracted-text {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            margin-bottom: 2rem;
            max-height: 300px;
            overflow-y: auto;
            transition: var(--transition-normal);
        }
        
        .extracted-text:hover {
            box-shadow: var(--shadow-sm);
        }
        
        .extracted-text h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .extracted-text pre {
            white-space: pre-wrap;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }
        
        /* Visualization */
        .visualization {
            width: 100%;
            height: 300px;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--card-border);
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .fraud-visual {
            text-align: center;
            padding: 2rem;
            max-width: 600px;
        }
        
        .fraud-visual-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--danger);
            animation: pulse 2s infinite;
        }
        
        .fraud-visual-text {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .fraud-visual-desc {
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto;
        }
        
        .legit-visual-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--success);
            animation: bounce 2s infinite;
        }
        
        .invalid-visual-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--warning);
            animation: shake 0.5s infinite;
        }
        
        /* OCR Progress */
        .ocr-progress {
            width: 100%;
            background: rgba(20, 20, 35, 0.7);
            border-radius: var(--border-radius-sm);
            height: 8px;
            margin: 1.5rem 0;
            overflow: hidden;
            display: none;
        }
        
        .ocr-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.3s;
            border-radius: var(--border-radius-sm);
        }
        
        .ocr-status {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: none;
        }
        
        /* Background Selector */
        .background-selector {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .bg-option {
            width: 40px;
            height: 40px;
            border-radius: var(--border-radius-full);
            cursor: pointer;
            border: 2px solid white;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            background: rgba(0, 0, 0, 0.5);
        }
        
        .bg-option:hover {
            transform: scale(1.1);
        }
        
        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        /* Animations */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* Notification System */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: var(--border-radius-md);
            padding: 1rem;
            max-width: 300px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition-normal);
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification-icon {
            font-size: 1.5rem;
        }
        
        .notification-success .notification-icon {
            color: var(--success);
        }
        
        .notification-error .notification-icon {
            color: var(--danger);
        }
        
        .notification-warning .notification-icon {
            color: var(--warning);
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 0.3rem;
        }
        
        .notification-message {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .notification-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1rem;
        }
        
        /* Advanced AI Features Panel */
        .ai-features {
            display: none;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            margin-bottom: 2rem;
        }
        
        .ai-features.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .ai-features-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            cursor: pointer;
        }
        
        .ai-features-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent);
        }
        
        .ai-features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .ai-feature-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius-md);
            padding: 1rem;
            border: 1px solid var(--card-border);
            transition: var(--transition-fast);
        }
        
        .ai-feature-card:hover {
            background: rgba(67, 97, 238, 0.1);
            border-color: var(--primary);
        }
        
        .ai-feature-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }
        
        .ai-feature-name {
            font-weight: 600;
            margin-bottom: 0.3rem;
        }
        
        .ai-feature-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .container {
                max-width: 1000px;
            }
        }
        
        @media (max-width: 992px) {
            .dashboard-title {
                font-size: 2rem;
            }
            
            .analysis-card {
                padding: 1.5rem;
            }
            
            .upload-area {
                padding: 2rem 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 1.5rem;
            }
            
            .header {
                padding: 1rem 0;
                flex-wrap: wrap;
                gap: 1rem;
            }
            
            .app-logo {
                font-size: 1.5rem;
            }
            
            .nav-links {
                order: 3;
                width: 100%;
                justify-content: center;
            }
            
            .dashboard-title {
                font-size: 1.8rem;
            }
            
            .upload-area {
                padding: 1.5rem 1rem;
            }
            
            .process-steps {
                flex-direction: column;
                height: auto;
                gap: 2rem;
            }
            
            .process-step {
                width: 100%;
                flex-direction: row;
                justify-content: flex-start;
                gap: 1rem;
                align-items: center;
            }
            
            .step-indicator {
                margin-bottom: 0;
                min-width: 50px;
                height: 50px;
            }
            
            .step-label {
                text-align: left;
            }
            
            .process-line, .progress-line {
                display: none;
            }
            
            .result-cards {
                grid-template-columns: 1fr;
            }
            
            .welcome-content {
                padding: 1.5rem;
            }
            
            .logo {
                font-size: 2.5rem;
            }
            
            .tagline {
                font-size: 1.2rem;
            }
            
            .welcome-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @media (max-width: 576px) {
            .container {
                padding: 0 1rem;
            }
            
            .btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.95rem;
            }
            
            .upload-text h3 {
                font-size: 1.3rem;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .tagline {
                font-size: 1.1rem;
            }
            
            .analysis-card {
                padding: 1rem;
            }
            
            .result-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .background-selector {
                bottom: 10px;
                right: 10px;
            }
            
            .bg-option {
                width: 35px;
                height: 35px;
                font-size: 0.8rem;
            }
        }
        
        /* Dark Mode Toggle */
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 24px;
            border-radius: var(--border-radius-full);
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 0 3px;
            margin-left: 1rem;
            transition: var(--transition-normal);
        }
        
        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .theme-toggle-handle {
            width: 18px;
            height: 18px;
            border-radius: var(--border-radius-full);
            background: white;
            position: absolute;
            left: 3px;
            transition: var(--transition-normal);
        }
        
        .theme-toggle.dark .theme-toggle-handle {
            left: calc(100% - 21px);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius-full);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius-full);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--darker);
            color: var(--text-primary);
            text-align: center;
            border-radius: var(--border-radius-md);
            padding: 0.5rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: var(--transition-normal);
            font-size: 0.8rem;
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-md);
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Advanced Settings Panel */
        .settings-panel {
            display: none;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            margin-bottom: 2rem;
        }
        
        .settings-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .settings-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent);
        }
        
        .settings-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .settings-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
            position: relative;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 0.7rem 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border);
            border-radius: var(--border-radius-md);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            transition: var(--transition-fast);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(72, 149, 239, 0.2);
        }
        
        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 12px;
        }
        
        .form-check {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .form-check-input {
            width: 16px;
            height: 16px;
            accent-color: var(--accent);
        }
        
        .form-actions {
            grid-column: span 2;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .branch-selector {
            position: relative;
        }
        
        .branch-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--darker);
            border: 1px solid var(--card-border);
            border-radius: var(--border-radius-md);
            z-index: 100;
            display: none;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .branch-dropdown.active {
            display: block;
        }
        
        .branch-option {
            padding: 0.7rem 1rem;
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .branch-option:hover {
            background: var(--primary-light);
        }
        
        .branch-option.active {
            background: var(--primary);
            color: white;
        }
        
        @media (max-width: 768px) {
            .settings-form {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                grid-column: span 1;
            }
        }
        
        /* History Section */
        .history-section {
            display: none;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            margin-bottom: 2rem;
        }
        
        .history-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .history-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent);
        }
        
        .history-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--card-border);
            transition: var(--transition-fast);
        }
        
        .history-item:hover {
            background: rgba(255, 255, 255, 0.03);
        }
        
        .history-item-content {
            flex: 1;
        }
        
        .history-item-title {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }
        
        .history-item-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .history-item-score {
            padding: 0.3rem 0.8rem;
            border-radius: var(--border-radius-full);
            font-weight: 500;
            font-size: 0.8rem;
            margin-left: 1rem;
        }
        
        /* Detailed Analysis Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: var(--transition-normal);
        }
        
        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }
        
        .modal {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--card-border);
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: var(--transition-normal);
            opacity: 0;
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
            opacity: 1;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid var(--card-border);
        }
        
        .modal-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        .modal-body {
            padding: 1.5rem;
            position: relative;
        }
        
        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--card-border);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        /* Confidence Meter */
        .confidence-meter {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .confidence-level {
            height: 100%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .confidence-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* AI Model Info */
        .model-info {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius-md);
            padding: 1rem;
            margin: 1rem 0;
            border: 1px solid var(--card-border);
        }
        
        .model-info-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }
        
        .model-info-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* Feature Importance Chart */
        .feature-chart {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius-md);
            border: 1px solid var(--card-border);
            margin: 1rem 0;
            padding: 1rem;
        }
        
        /* Responsive adjustments for modal */
        @media (max-width: 768px) {
            .modal {
                width: 95%;
            }
            
            .modal-header {
                padding: 1rem;
            }
            
            .modal-body, .modal-footer {
                padding: 1rem;
            }
        }
        
        /* GitHub Deployment Section */
        .github-section {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            border: 1px solid var(--card-border);
            margin-bottom: 2rem;
            display: none;
        }
        
        .github-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .github-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .github-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent);
        }
        
        .github-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .github-steps {
            margin-bottom: 1.5rem;
        }
        
        .github-step {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
            position: relative;
        }
        
        .github-step:before {
            content: attr(data-step);
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .github-code {
            background: var(--darker);
            border-radius: var(--border-radius-md);
            padding: 1rem;
            font-family: monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 0.5rem 0;
        }
        
        .github-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <!-- Welcome Page with Full-Screen Background -->
    <div class="welcome-page" id="welcome-page">
        <div class="welcome-content">
            <h1 class="logo">HireGuard AI</h1>
            <p class="tagline">Advanced AI-powered job fraud detection with industry-leading accuracy</p>
            <div class="welcome-buttons">
                <button class="btn btn-primary" id="get-started-btn">
                    <i class="fas fa-rocket"></i> Get Started
                </button>
                <button class="btn btn-secondary" id="learn-more-btn">
                    <i class="fas fa-info-circle"></i> Learn More
                </button>
            </div>
        </div>
        <div id="vanta-bg"></div>
    </div>
    
    <!-- Main App Page -->
    <div class="app-page" id="app-page">
        <div class="background-overlay"></div>
        <div class="container">
            <header class="header">
                <a href="#" class="app-logo">
                    <div class="logo-icon">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L3 7L12 12L21 7L12 2Z" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 12L12 17L21 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 17L12 22L21 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    HireGuard AI
                </a>
                
                <nav class="nav-links">
                    <a href="#" class="nav-link active" data-page="home">Home</a>
                    <a href="#" class="nav-link" data-page="github">GitHub</a>
                    <a href="#" class="nav-link" data-page="settings">Settings</a>
                    <a href="#" class="nav-link" data-page="about">About</a>
                </nav>
                
                <div class="user-profile">
                    <button class="btn-icon" id="github-btn" title="GitHub Deployment">
                        <i class="fab fa-github"></i>
                    </button>
                    <button class="btn-icon" id="settings-btn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button class="btn-icon" id="history-btn" title="History">
                        <i class="fas fa-history"></i>
                    </button>
                    <div class="user-avatar" id="user-avatar">G</div>
                </div>
            </header>
            
            <main class="main-content">
                <!-- Home Page Content -->
                <div class="page-content" id="home-page">
                    <h1 class="dashboard-title">Job Posting Analysis</h1>
                    <p class="dashboard-subtitle">Upload an image of a job posting to detect potential fraud indicators with our AI-powered system.</p>
                    
                    <button class="btn btn-tertiary" id="toggle-ai-features">
                        <i class="fas fa-robot"></i> Show AI Features
                    </button>
                    
                    <div class="ai-features" id="ai-features">
                        <div class="ai-features-header" id="ai-features-toggle">
                            <h3 class="ai-features-title">Advanced AI Detection Features</h3>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="ai-features-grid">
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-language"></i>
                                </div>
                                <h4 class="ai-feature-name">NLP Analysis</h4>
                                <p class="ai-feature-desc">Natural Language Processing detects suspicious patterns in job descriptions.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <h4 class="ai-feature-name">Image Forensics</h4>
                                <p class="ai-feature-desc">Analyzes images for signs of tampering or stock photo usage.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <h4 class="ai-feature-name">Email Analysis</h4>
                                <p class="ai-feature-desc">Checks for suspicious email domains and patterns.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <h4 class="ai-feature-name">Salary Analysis</h4>
                                <p class="ai-feature-desc">Detects unrealistic salary offers for given positions.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <h4 class="ai-feature-name">Company Verification</h4>
                                <p class="ai-feature-desc">Cross-references company details with business databases.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h4 class="ai-feature-name">Urgency Detection</h4>
                                <p class="ai-feature-desc">Identifies high-pressure language common in scams.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M17 8L12 3L7 8" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 3V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <div class="upload-text">
                                <h3>Upload Job Posting</h3>
                                <p>Drag & drop or click to browse files (JPG, PNG, PDF, DOCX)</p>
                                <button class="btn btn-secondary">Select File</button>
                            </div>
                            <input type="file" id="fileInput" class="file-input" accept="image/*,.pdf,.doc,.docx">
                        </div>
                        
                        <!-- OCR Progress -->
                        <div class="ocr-progress" id="ocrProgress">
                            <div class="ocr-progress-bar" id="ocrProgressBar"></div>
                        </div>
                        <div class="ocr-status" id="ocrStatus">Processing image...</div>
                        
                        <button class="btn btn-primary" id="analyze-btn" style="width: 100%;">
                            <i class="fas fa-search"></i> Analyze Job Posting
                        </button>
                        
                        <!-- Process Animation -->
                        <div class="process-animation" id="process-animation">
                            <div class="process-steps">
                                <div class="process-step" id="step1">
                                    <div class="step-indicator">
                                        <div class="step-icon">📄</div>
                                    </div>
                                    <div class="step-label">Upload Complete</div>
                                </div>
                                <div class="process-step" id="step2">
                                    <div class="step-indicator">
                                        <div class="step-icon">🔍</div>
                                    </div>
                                    <div class="step-label">Content Analysis</div>
                                </div>
                                <div class="process-step" id="step3">
                                    <div class="step-indicator">
                                        <div class="step-icon">🤖</div>
                                    </div>
                                    <div class="step-label">AI Processing</div>
                                </div>
                                <div class="process-step" id="step4">
                                    <div class="step-indicator">
                                        <div class="step-icon">📊</div>
                                    </div>
                                    <div class="step-label">Results Ready</div>
                                </div>
                                <div class="process-line"></div>
                                <div class="progress-line" id="progress-line"></div>
                            </div>
                        </div>
                        
                        <!-- Extracted Text -->
                        <div class="extracted-text" id="extracted-text" style="display: none;">
                            <h3>Extracted Text</h3>
                            <pre id="extracted-text-content"></pre>
                        </div>
                        
                        <!-- Visualization -->
                        <div class="visualization" id="fraud-visualization">
                            <div class="fraud-visual">
                                <div class="fraud-visual-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="fraud-visual-text">Potential Fraud Detected</div>
                                <div class="fraud-visual-desc">This job posting shows multiple indicators of being fraudulent based on our analysis.</div>
                            </div>
                        </div>
                        
                        <div class="visualization" id="legit-visualization">
                            <div class="fraud-visual">
                                <div class="legit-visual-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="fraud-visual-text">Legitimate Job Posting</div>
                                <div class="fraud-visual-desc">This job posting appears to be legitimate with no strong fraud indicators detected.</div>
                            </div>
                        </div>
                        
                        <div class="visualization" id="invalid-visualization">
                            <div class="fraud-visual">
                                <div class="invalid-visual-icon">
                                    <i class="fas fa-times-circle"></i>
                                </div>
                                <div class="fraud-visual-text">Invalid Content</div>
                                <div class="fraud-visual-desc">The uploaded content doesn't appear to be a job posting or couldn't be processed.</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Results Section -->
                    <div class="results-section" id="results-section">
                        <div class="result-header">
                            <h2 class="result-title">Analysis Results</h2>
                            <div class="result-score score-high" id="overall-score">87% High Risk</div>
                        </div>
                        
                        <div class="confidence-meter">
                            <div class="confidence-level" id="confidence-level" style="width: 87%;"></div>
                            <div class="confidence-labels">
                                <span>0%</span>
                                <span>25%</span>
                                <span>50%</span>
                                <span>75%</span>
                                <span>100%</span>
                            </div>
                        </div>
                        
                        <div class="model-info">
                            <div class="model-info-title">AI Model Confidence: 89%</div>
                            <div class="model-info-desc">Our fraud detection model is highly confident in this assessment based on multiple indicators.</div>
                        </div>
                        
                        <div class="result-cards">
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Overall Fraud Probability</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>This job posting shows multiple indicators of being fraudulent:</p>
                                    <ul>
                                        <li><span class="red-flag">Unrealistic salary</span> for the position type</li>
                                        <li><span class="red-flag">Urgent hiring language</span> commonly used in scams</li>
                                        <li><span class="yellow-flag">Generic company information</span> with no specifics</li>
                                        <li><span class="red-flag">Poor grammar and spelling</span> throughout the posting</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Text Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Our NLP model detected concerning patterns:</p>
                                    <ul>
                                        <li>7 instances of high-pressure language</li>
                                        <li>5 grammatical errors suggesting non-native English</li>
                                        <li>Vague job responsibilities with excessive promises</li>
                                        <li>Contact via personal email rather than company domain</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Image Analysis</div>
                                    <div class="card-score score-low">Low Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>The image appears professionally created:</p>
                                    <ul>
                                        <li>Consistent branding and logo usage</li>
                                        <li>Proper formatting and layout</li>
                                        <li>No signs of image tampering</li>
                                    </ul>
                                    <p style="margin-top: 0.8rem;"><em>Note: Scammers often steal legitimate-looking images.</em></p>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Company Verification</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Issues with company information:</p>
                                    <ul>
                                        <li>No matching company found in business registries</li>
                                        <li>Domain registered recently (3 months ago)</li>
                                        <li>No LinkedIn profile or social media presence</li>
                                        <li>Address points to virtual office service</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Contact Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Suspicious contact methods detected:</p>
                                    <ul>
                                        <li>Uses free email service (Gmail) instead of company domain</li>
                                        <li>Phone number linked to other scam reports</li>
                                        <li>Requests personal information upfront</li>
                                        <li>No professional signature block</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Compensation Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Unrealistic compensation details:</p>
                                    <ul>
                                        <li>Salary 3x industry average for position</li>
                                        <li>Promises bonuses for simple tasks</li>
                                        <li>Requests bank details for "direct deposit"</li>
                                        <li>Mentions "processing fees" for equipment</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" id="detailed-analysis-btn" style="width: 100%;">
                            <i class="fas fa-chart-bar"></i> View Detailed Analysis
                        </button>
                        
                        <button class="btn btn-secondary" id="new-analysis-btn" style="width: 100%; margin-top: 1rem;">
                            <i class="fas fa-redo"></i> Start New Analysis
                        </button>
                    </div>
                </div>
                
                <!-- GitHub Deployment Page -->
                <div class="github-section" id="github-page">
                    <div class="github-header">
                        <h3 class="github-title">GitHub Deployment</h3>
                        <button class="github-close" id="github-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="github-steps">
                        <div class="github-step" data-step="1">
                            <h4>Create a GitHub Repository</h4>
                            <p>First, create a new repository on GitHub for your project.</p>
                            <div class="github-code">
                                # Create a new repository on GitHub.com<br>
                                # Name it "hireguard-ai" or similar<br>
                                # Initialize with a README file
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="2">
                            <h4>Clone the Repository</h4>
                            <p>Clone the repository to your local machine.</p>
                            <div class="github-code">
                                git clone https://github.com/your-username/hireguard-ai.git<br>
                                cd hireguard-ai
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="3">
                            <h4>Add Your Files</h4>
                            <p>Add your HTML, CSS, JavaScript, and Python files to the repository.</p>
                            <div class="github-code">
                                # Copy your files to the repository folder<br>
                                # Make sure to include:<br>
                                # - index.html (this file)<br>
                                # - app.py (Python backend)<br>
                                # - requirements.txt (Python dependencies)<br>
                                # - Any other assets
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="4">
                            <h4>Commit and Push</h4>
                            <p>Commit your changes and push them to GitHub.</p>
                            <div class="github-code">
                                git add .<br>
                                git commit -m "Initial commit: HireGuard AI application"<br>
                                git push origin main
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="5">
                            <h4>Deploy to GitHub Pages</h4>
                            <p>Enable GitHub Pages for your repository to host the application.</p>
                            <div class="github-code">
                                # Go to repository Settings > Pages<br>
                                # Select "Deploy from a branch"<br>
                                # Choose "main" branch and "/ (root)" folder<br>
                                # Click Save
                            </div>
                        </div>
                    </div>
                    
                    <div class="github-actions">
                        <a href="https://github.com/new" target="_blank" class="btn btn-primary">
                            <i class="fab fa-github"></i> Create Repository
                        </a>
                        <a href="#" class="btn btn-secondary" id="deploy-guide-btn">
                            <i class="fas fa-book"></i> View Detailed Guide
                        </a>
                    </div>
                </div>
                
                <!-- Settings Panel -->
                <div class="settings-panel" id="settings-page">
                    <div class="settings-header">
                        <h3 class="settings-title">Settings</h3>
                        <button class="settings-close" id="settings-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label class="form-label">OCR Language</label>
                            <select class="form-control form-select">
                                <option>English</option>
                                <option>Spanish</option>
                                <option>French</option>
                                <option>German</option>
                                <option>Chinese</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Analysis Depth</label>
                            <select class="form-control form-select">
                                <option>Standard (Faster)</option>
                                <option>Detailed (More Accurate)</option>
                                <option>Comprehensive (Slowest)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Theme</label>
                            <select class="form-control form-select">
                                <option>Dark</option>
                                <option>Light</option>
                                <option>System Default</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Branch</label>
                            <div class="branch-selector">
                                <input type="text" class="form-control" value="main" id="branch-input" readonly>
                                <div class="branch-dropdown" id="branch-dropdown">
                                    <div class="branch-option active" data-branch="main">main (active)</div>
                                    <div class="branch-option" data-branch="development">development</div>
                                    <div class="branch-option" data-branch="feature-ai">feature-ai-enhancements</div>
                                    <div class="branch-option" data-branch="bugfix-ocr">bugfix-ocr-issues</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Notifications</label>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="notify-email" checked>
                                <label for="notify-email">Email Alerts</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="notify-sound" checked>
                                <label for="notify-sound">Sound Alerts</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Data Retention</label>
                            <select class="form-control form-select">
                                <option>30 Days</option>
                                <option>90 Days</option>
                                <option>1 Year</option>
                                <option>Forever</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">API Key</label>
                            <input type="password" class="form-control" placeholder="Enter your API key">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary">Cancel</button>
                            <button type="button" class="btn btn-primary">Save Settings</button>
                        </div>
                    </form>
                </div>
                
                <!-- History Section -->
                <div class="history-section" id="history-page">
                    <div class="history-header">
                        <h3 class="history-title">Analysis History</h3>
                        <button class="history-close" id="history-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="history-list">
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Senior Software Engineer at TechCorp</div>
                                <div class="history-item-date">Analyzed 2 hours ago</div>
                            </div>
                            <div class="history-item-score score-low">12% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Remote Data Entry Specialist</div>
                                <div class="history-item-date">Analyzed 1 day ago</div>
                            </div>
                            <div class="history-item-score score-high">89% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Marketing Intern at Startup</div>
                                <div class="history-item-date">Analyzed 3 days ago</div>
                            </div>
                            <div class="history-item-score score-medium">45% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Customer Support Representative</div>
                                <div class="history-item-date">Analyzed 1 week ago</div>
                            </div>
                            <div class="history-item-score score-high">78% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Product Manager at DesignHub</div>
                                <div class="history-item-date">Analyzed 2 weeks ago</div>
                            </div>
                            <div class="history-item-score score-low">23% Risk</div>
                        </div>
                    </div>
                </div>
                
                <!-- About Page -->
                <div class="settings-panel" id="about-page" style="display: none;">
                    <div class="settings-header">
                        <h3 class="settings-title">About HireGuard AI</h3>
                        <button class="settings-close" id="about-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <p>HireGuard AI is an advanced fraud detection system designed to identify suspicious job postings using state-of-the-art machine learning and natural language processing techniques.</p>
                        <p>Our system analyzes multiple factors including:</p>
                        <ul>
                            <li>Text patterns and linguistic features</li>
                            <li>Company information and verification</li>
                            <li>Contact details and communication patterns</li>
                            <li>Compensation offers and job requirements</li>
                        </ul>
                        <p>Version: 1.0.0</p>
                        <p>Developed with ❤️ by the HireGuard Team</p>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Background Selector -->
    <div class="background-selector">
        <div class="bg-option" data-bg="waves">
            <i class="fas fa-water"></i>
        </div>
        <div class="bg-option" data-bg="net">
            <i class="fas fa-network-wired"></i>
        </div>
        <div class="bg-option" data-bg="globe">
            <i class="fas fa-globe"></i>
        </div>
        <div class="bg-option" data-bg="halo">
            <i class="fas fa-sun"></i>
        </div>
        <div class="bg-option" data-bg="fog">
            <i class="fas fa-cloud"></i>
        </div>
        <div class="bg-option" data-bg="rings">
            <i class="fas fa-circle-notch"></i>
        </div>
    </div>
    
    <!-- Notification System -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Notification</div>
            <div class="notification-message">This is a sample notification message.</div>
        </div>
        <button class="notification-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <!-- Detailed Analysis Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Detailed Analysis Report</h3>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="result-header">
                    <h2 class="result-title">Fraud Analysis Breakdown</h2>
                    <div class="result-score score-high">87% High Risk</div>
                </div>
                
                <div class="confidence-meter">
                    <div class="confidence-level" style="width: 87%;"></div>
                    <div class="confidence-labels">
                        <span>0%</span>
                        <span>25%</span>
                        <span>50%</span>
                        <span>75%</span>
                        <span>100%</span>
                    </div>
                </div>
                
                <div class="model-info">
                    <div class="model-info-title">AI Model: FraudDetect Pro v4.2</div>
                    <div class="model-info-desc">This model was trained on 250,000 verified job postings with 98.7% accuracy in testing.</div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Key Indicators</h4>
                
                <div class="result-cards">
                    <div class="result-card">
                        <div class="card-header">
                            <div class="card-title">Language Patterns</div>
                            <div class="card-score score-high">92% Match</div>
                        </div>
                        <div class="card-content">
                            <p>Text matches known scam patterns:</p>
                            <ul>
                                <li>"Urgent hiring" mentioned 5 times</li>
                                <li>"No experience needed" for skilled position</li>
                                <li>"Work from anywhere" with high pay</li>
                                <li>Grammatical errors in key sections</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="card-header">
                            <div class="card-title">Company Verification</div>
                            <div class="card-score score-high">85% Risk</div>
                        </div>
                        <div class="card-content">
                            <p>Company details raise concerns:</p>
                            <ul>
                                <li>No business registration found</li>
                                <li>Domain registered 3 months ago</li>
                                <li>Address is virtual office</li>
                                <li>No employee reviews online</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Feature Importance</h4>
                
                <div class="feature-chart">
                    <!-- This would be a chart in a real implementation -->
                    <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                        <i class="fas fa-chart-pie" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                        <p>Feature importance chart would display here showing which factors contributed most to the fraud score.</p>
                    </div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Recommendations</h4>
                
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-title">Next Steps</div>
                    </div>
                    <div class="card-content">
                        <p>Based on our analysis, we recommend:</p>
                        <ul>
                            <li>Avoid providing personal information</li>
                            <li>Verify company through official channels</li>
                            <li>Search for similar scams online</li>
                            <li>Report to job platform if applicable</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modal-print">
                    <i class="fas fa-print"></i> Print Report
                </button>
                <button class="btn btn-primary" id="modal-download">
                    <i class="fas fa-download"></i> Download PDF
                </button>
            </div>
        </div>
    </div>

    <script>
        // ==============================================
        // Global Variables and Initialization
        // ==============================================
        
        // Background effects
        let vantaEffect;
        let currentBg = 'waves';
        
        // User state
        let currentUser = null;
        let analysisHistory = [];
        
        // OCR and AI state
        let extractedText = '';
        let ocrConfidence = 0;
        let fraudScore = 0;
        let isAnalyzing = false;
        
        // Current page state
        let currentPage = 'home';
        
        // DOM elements
        const welcomePage = document.getElementById('welcome-page');
        const appPage = document.getElementById('app-page');
        const getStartedBtn = document.getElementById('get-started-btn');
        const learnMoreBtn = document.getElementById('learn-more-btn');
        const userAvatar = document.getElementById('user-avatar');
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const analyzeBtn = document.getElementById('analyze-btn');
        const processAnimation = document.getElementById('process-animation');
        const fraudVisualization = document.getElementById('fraud-visualization');
        const legitVisualization = document.getElementById('legit-visualization');
        const invalidVisualization = document.getElementById('invalid-visualization');
        const resultsSection = document.getElementById('results-section');
        const overallScore = document.getElementById('overall-score');
        const confidenceLevel = document.getElementById('confidence-level');
        const ocrProgress = document.getElementById('ocrProgress');
        const ocrProgressBar = document.getElementById('ocrProgressBar');
        const ocrStatus = document.getElementById('ocrStatus');
        const progressLine = document.getElementById('progress-line');
        const newAnalysisBtn = document.getElementById('new-analysis-btn');
        const extractedTextSection = document.getElementById('extracted-text');
        const extractedTextContent = document.getElementById('extracted-text-content');
        const detailedAnalysisBtn = document.getElementById('detailed-analysis-btn');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalClose = document.getElementById('modal-close');
        const notification = document.getElementById('notification');
        const toggleAiFeatures = document.getElementById('toggle-ai-features');
        const aiFeatures = document.getElementById('ai-features');
        const aiFeaturesToggle = document.getElementById('ai-features-toggle');
        const settingsBtn = document.getElementById('settings-btn');
        const githubBtn = document.getElementById('github-btn');
        const settingsPanel = document.getElementById('settings-page');
        const githubPanel = document.getElementById('github-page');
        const aboutPanel = document.getElementById('about-page');
        const homePanel = document.getElementById('home-page');
        const settingsClose = document.getElementById('settings-close');
        const githubClose = document.getElementById('github-close');
        const aboutClose = document.getElementById('about-close');
        const historyBtn = document.getElementById('history-btn');
        const historySection = document.getElementById('history-page');
        const historyClose = document.getElementById('history-close');
        const bgOptions = document.querySelectorAll('.bg-option');
        const navLinks = document.querySelectorAll('.nav-link');
        const branchInput = document.getElementById('branch-input');
        const branchDropdown = document.getElementById('branch-dropdown');
        const branchOptions = document.querySelectorAll('.branch-option');
        
        // ==============================================
        // Background Effects Management
        // ==============================================
        
        function initVanta(bgType = 'waves') {
            if (vantaEffect) vantaEffect.destroy();
            
            currentBg = bgType;
            
            const isWelcomePage = welcomePage.style.display !== 'none';
            const el = isWelcomePage ? '#vanta-bg' : '.background-overlay';
            
            switch(bgType) {
                case 'waves':
                    vantaEffect = VANTA.WAVES({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0x4361ee,
                        shininess: 50.00,
                        waveHeight: 15.00,
                        waveSpeed: 0.80,
                        zoom: 0.75
                    });
                    break;
                    
                case 'net':
                    vantaEffect = VANTA.NET({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0x4895ef,
                        backgroundColor: 0x0f0f1a,
                        points: 12.00,
                        maxDistance: 22.00,
                        spacing: 18.00
                    });
                    break;
                    
                case 'globe':
                    vantaEffect = VANTA.GLOBE({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0xf72585,
                        backgroundColor: 0x0a0a12,
                        size: 0.80
                    });
                    break;
                    
                case 'halo':
                    vantaEffect = VANTA.HALO({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        backgroundColor: 0x0f0f1a,
                        size: 1.20
                    });
                    break;
                    
                case 'fog':
                    vantaEffect = VANTA.FOG({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        highlightColor: 0x4361ee,
                        midtoneColor: 0x4895ef,
                        lowlightColor: 0x3f37c9,
                        baseColor: 0x0a0a12,
                        blurFactor: 0.50,
                        speed: 1.50,
                        zoom: 0.80
                    });
                    break;
                    
                case 'rings':
                    vantaEffect = VANTA.RINGS({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        backgroundColor: 0x0f0f1a,
                        color: 0x3f37c9
                    });
                    break;
            }
        }
        
        // ==============================================
        // Utility Functions
        // ==============================================
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function showNotification(type, title, message, duration = 5000) {
            const iconMap = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };
            
            notification.className = `notification notification-${type}`;
            notification.querySelector('.notification-icon').className = `notification-icon fas ${iconMap[type]}`;
            notification.querySelector('.notification-title').textContent = title;
            notification.querySelector('.notification-message').textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // ==============================================
        // Page Navigation
        // ==============================================
        
        function showPage(page) {
            welcomePage.style.display = 'none';
            appPage.style.display = 'none';
            
            if (page === 'welcome') {
                welcomePage.style.display = 'flex';
            } else {
                appPage.style.display = 'flex';
            }
            
            initVanta(currentBg);
        }
        
        function navigateTo(page) {
            // Hide all pages
            document.querySelectorAll('.page-content, .settings-panel, .github-section, .history-section').forEach(el => {
                el.style.display = 'none';
            });
            
            // Update navigation links
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });
            
            // Show the requested page
            currentPage = page;
            switch(page) {
                case 'home':
                    homePanel.style.display = 'block';
                    break;
                case 'github':
                    githubPanel.style.display = 'block';
                    break;
                case 'settings':
                    settingsPanel.style.display = 'block';
                    break;
                case 'about':
                    aboutPanel.style.display = 'block';
                    break;
                case 'history':
                    historySection.style.display = 'block';
                    break;
            }
        }
        
        // ==============================================
        // User Management
        // ==============================================
        
        function startAsGuest() {
            currentUser = {
                name: 'Guest User',
                email: 'guest@hireguard.ai',
                isGuest: true,
                preferences: {
                    theme: 'dark',
                    notifications: true
                }
            };
            updateUserInfo();
        }
        
        function updateUserInfo() {
            if (currentUser) {
                userAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
            }
        }
        
        // ==============================================
        // File Upload and Processing
        // ==============================================
        
        function handleFileUpload(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
                
                if (!validTypes.includes(file.type)) {
                    uploadArea.classList.add('error');
                    uploadArea.innerHTML = `
                        <div class="upload-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="upload-text">
                            <h3>Invalid File Type</h3>
                            <p>Please upload an image (JPG, PNG) or document (PDF, DOCX)</p>
                            <button class="btn btn-secondary">Try Again</button>
                        </div>
                    `;
                    showNotification('error', 'Invalid File', 'Please upload a supported file type (JPG, PNG, PDF, DOCX)');
                    return;
                }
                
                uploadArea.classList.add('active');
                uploadArea.innerHTML = `
                    <div class="upload-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="upload-text">
                        <h3>${file.name}</h3>
                        <p>Ready for analysis (${formatFileSize(file.size)})</p>
                        <button class="btn btn-secondary">Change File</button>
                    </div>
                `;
                
                showNotification('success', 'File Ready', 'Your file is ready for analysis');
            }
        }
        
        // ==============================================
        // OCR Processing with Enhanced Techniques
        // ==============================================
        
        async function analyzeJobPosting() {
            if (isAnalyzing) return;
            
            if (fileInput.files.length === 0) {
                showNotification('error', 'No File', 'Please upload a file first');
                return;
            }
            
            isAnalyzing = true;
            resetResultsUI();
            
            // Show scanning animation
            processAnimation.style.display = 'block';
            activateProcessStep('step1');
            updateProgressLine(25);
            
            const file = fileInput.files[0];
            
            try {
                // Show OCR progress
                ocrProgress.style.display = 'block';
                ocrStatus.style.display = 'block';
                
                setTimeout(() => {
                    activateProcessStep('step2');
                    updateProgressLine(50);
                }, 1000);
                
                // Process the file based on type
                if (file.type.startsWith('image/')) {
                    await processImageFile(file);
                } else if (file.type === 'application/pdf') {
                    await processPdfFile(file);
                } else if (file.type.includes('word')) {
                    await processWordFile(file);
                } else {
                    throw new Error('Unsupported file type');
                }
                
                // Hide OCR progress when done
                ocrProgress.style.display = 'none';
                ocrStatus.style.display = 'none';
                
                // Show extracted text
                extractedTextContent.textContent = extractedText;
                extractedTextSection.style.display = 'block';
                
                // Analyze the content
                setTimeout(() => {
                    activateProcessStep('step3');
                    updateProgressLine(75);
                    analyzeTextContent(extractedText, ocrConfidence);
                }, 1000);
                
            } catch (err) {
                console.error('Analysis Error:', err);
                showResult('invalid');
                ocrProgress.style.display = 'none';
                ocrStatus.style.display = 'none';
                isAnalyzing = false;
                showNotification('error', 'Analysis Failed', 'Could not process the file. Please try another.');
            }
        }
        
        async function processImageFile(file) {
            return new Promise(async (resolve, reject) => {
                try {
                    const imageUrl = URL.createObjectURL(file);
                    const image = await loadImage(imageUrl);
                    
                    // Enhanced OCR with multiple passes and language detection
                    const { text, confidence } = await enhancedOCR(image);
                    
                    extractedText = text;
                    ocrConfidence = confidence;
                    
                    // Update progress bar during processing
                    const progressInterval = setInterval(() => {
                        const currentWidth = parseInt(ocrProgressBar.style.width) || 0;
                        const newWidth = Math.min(currentWidth + 5, 90);
                        ocrProgressBar.style.width = `${newWidth}%`;
                        
                        if (newWidth >= 90) {
                            clearInterval(progressInterval);
                        }
                    }, 200);
                    
                    setTimeout(() => {
                        ocrProgressBar.style.width = '100%';
                        resolve();
                    }, 1500);
                    
                } catch (err) {
                    reject(err);
                }
            });
        }
        
        async function processPdfFile(file) {
            // In a real app, we'd use PDF.js or similar to extract text
            // For demo, we'll simulate with a timeout
            return new Promise((resolve) => {
                const progressInterval = setInterval(() => {
                    const currentWidth = parseInt(ocrProgressBar.style.width) || 0;
                    const newWidth = Math.min(currentWidth + 10, 100);
                    ocrProgressBar.style.width = `${newWidth}%`;
                    
                    if (newWidth >= 100) {
                        clearInterval(progressInterval);
                        
                        // Simulate extracted text
                        extractedText = `PDF Document: ${file.name}\n\n`
                            + "Job Title: Senior Software Engineer\n"
                            + "Company: TechStart Inc.\n"
                            + "Salary: $150,000 - $200,000 per year (unrealistically high for position)\n"
                            + "Requirements: No experience needed! Immediate hiring!\n"
                            + "Contact: hr.techstart@gmail.com (not company domain)\n"
                            + "Description: We are urgently hiring for this position. No interview needed!\n"
                            + "Just send your personal information and bank details to get started.\n";
                        
                        ocrConfidence = 95;
                        resolve();
                    }
                }, 300);
            });
        }
        
        async function processWordFile(file) {
            // In a real app, we'd use mammoth.js or similar to extract text
            // For demo, we'll simulate with a timeout
            return new Promise((resolve) => {
                const progressInterval = setInterval(() => {
                    const currentWidth = parseInt(ocrProgressBar.style.width) || 0;
                    const newWidth = Math.min(currentWidth + 10, 100);
                    ocrProgressBar.style.width = `${newWidth}%`;
                    
                    if (newWidth >= 100) {
                        clearInterval(progressInterval);
                        
                        // Simulate extracted text
                        extractedText = `Word Document: ${file.name}\n\n`
                            + "Position: Remote Data Entry Clerk\n"
                            + "Pay: $50 per hour (well above market rate)\n"
                            + "Requirements: None! Perfect for students!\n"
                            + "To Apply: Send your SSN and bank details to fastjob@yahoo.com\n"
                            + "Note: You'll need to pay a $50 equipment fee to get started.\n";
                        
                        ocrConfidence = 90;
                        resolve();
                    }
                }, 300);
            });
        }
        
        async function loadImage(url) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(img);
                img.src = url;
            });
        }
        
        async function enhancedOCR(image) {
            // First pass with default settings
            let worker = await Tesseract.createWorker();
            await worker.loadLanguage('eng');
            await worker.initialize('eng');
            
            // Set higher quality parameters
            await worker.setParameters({
                tessedit_pageseg_mode: 6, // Assume a single uniform block of text
                tessedit_char_whitelist: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,!?@#$%^&*()-_=+[]{};:\'"\\|<>/~` ',
                preserve_interword_spaces: 1,
                tessedit_ocr_engine_mode: 1, // LSTM only
                user_defined_dpi: 300
            });
            
            const result = await worker.recognize(image);
            await worker.terminate();
            
            // Second pass for areas with low confidence
            if (result.data.confidence < 80) {
                worker = await Tesseract.createWorker();
                await worker.loadLanguage('eng');
                await worker.initialize('eng');
                
                // Try different parameters for low confidence areas
                await worker.setParameters({
                    tessedit_pageseg_mode: 11, // Sparse text with OSD
                    tessedit_ocr_engine_mode: 3, // Default + LSTM
                    user_defined_dpi: 400
                });
                
                const secondPass = await worker.recognize(image);
                await worker.terminate();
                
                // Use the better result
                if (secondPass.data.confidence > result.data.confidence) {
                    return secondPass.data;
                }
            }
            
            return result.data;
        }
        
        // ==============================================
        // AI Text Analysis
        // ==============================================
        
        async function analyzeTextContent(text, confidence) {
            // Check if the text looks like a job posting
            const textLower = text.toLowerCase();
            const jobKeywords = ['job', 'position', 'hire', 'apply', 'role', 'responsibilities', 'company', 'salary', 'experience'];
            const isJobPosting = jobKeywords.some(keyword => textLower.includes(keyword));
            
            if (!isJobPosting) {
                showResult('invalid');
                isAnalyzing = false;
                return;
            }
            
            // Check OCR confidence
            if (confidence < 60) {
                showResult('invalid');
                isAnalyzing = false;
                return;
            }
            
            // Enhanced fraud detection with multiple factors
            fraudScore = await calculateEnhancedFraudScore(text);
            
            setTimeout(() => {
                activateProcessStep('step4');
                updateProgressLine(100);
                
                if (fraudScore > 70) {
                    showResult('fraud');
                } else if (fraudScore > 30) {
                    // Medium risk - could go either way
                    showResult(Math.random() > 0.5 ? 'fraud' : 'legitimate');
                } else {
                    showResult('legitimate');
                }
                
                isAnalyzing = false;
                
                // Add to history
                addToHistory(text.substring(0, 50) + '...', fraudScore);
            }, 2000);
        }
        
        async function calculateEnhancedFraudScore(text) {
            const textLower = text.toLowerCase();
            let score = 0;
            let reasons = [];
            
            // 1. Urgency indicators
            const urgencyWords = ['urgent', 'immediate', 'asap', 'hiring now', 'start today', 'quick hire'];
            const urgencyCount = urgencyWords.filter(word => textLower.includes(word)).length;
            
            if (urgencyCount > 0) {
                score += Math.min(20, urgencyCount * 5);
                reasons.push(`Urgency language (${urgencyCount} instances)`);
            }
            
            // 2. Payment methods
            const paymentMethods = ['western union', 'money gram', 'wire transfer', 'bitcoin', 'crypto', 'paypal', 'venmo'];
            const paymentCount = paymentMethods.filter(method => textLower.includes(method)).length;
            
            if (paymentCount > 0) {
                score += Math.min(30, paymentCount * 10);
                reasons.push(`Suspicious payment methods (${paymentCount} found)`);
            }
            
            // 3. Email domains
            const personalDomains = ['gmail.', 'yahoo.', 'hotmail.', 'outlook.', 'aol.', 'protonmail.'];
            const personalEmail = personalDomains.some(domain => textLower.includes(domain));
            
            if (personalEmail) {
                score += 15;
                reasons.push('Personal email domain used');
            }
            
            // 4. Salary mentions
            const salaryMatch = textLower.match(/\$(\d+[,\d]*(k|000))/);
            if (salaryMatch) {
                let amount = parseInt(salaryMatch[1].replace(/,/g, ''));
                if (salaryMatch[2] === 'k') amount *= 1000;
                
                // Check if salary is unrealistic
                if (amount > 100000) {
                    score += 25;
                    reasons.push(`Unrealistic salary: $${amount.toLocaleString()}`);
                }
            }
            
            // 5. Grammar and spelling
            const grammarErrors = (textLower.match(/grammar|spellling|mispelled|incorect|wierd|recieve/g) || []).length;
            if (grammarErrors > 3) {
                score += 20;
                reasons.push(`Grammar/spelling issues (${grammarErrors} found)`);
            } else if (grammarErrors > 0) {
                score += 10;
                reasons.push(`Minor grammar issues (${grammarErrors} found)`);
            }
            
            // 6. Work from home promises
            if (textLower.includes('work from home') && textLower.includes('no experience')) {
                score += 25;
                reasons.push('"Work from home" with "no experience" combo');
            }
            
            // 7. Company information
            const companyKeywords = ['company', 'organization', 'firm', 'llc', 'inc', 'corp', 'ltd'];
            const hasCompanyInfo = companyKeywords.some(keyword => textLower.includes(keyword));
            
            if (!hasCompanyInfo) {
                score += 15;
                reasons.push('Missing company information');
            }
            
            // 8. Contact requests
            const sensitiveRequests = ['ssn', 'social security', 'bank details', 'credit card', 'passport', 'driver license'];
            const sensitiveCount = sensitiveRequests.filter(req => textLower.includes(req)).length;
            
            if (sensitiveCount > 0) {
                score += Math.min(40, sensitiveCount * 15);
                reasons.push(`Requests for sensitive info (${sensitiveCount} items)`);
            }
            
            // 9. Fees mentioned
            if (textLower.includes('fee') || textLower.includes('payment') || textLower.includes('charge')) {
                score += 20;
                reasons.push('Mentions fees or payments');
            }
            
            // 10. Generic requirements
            if (textLower.includes('no experience') && textLower.includes('no degree') && textLower.includes('no skills')) {
                score += 25;
                reasons.push('No experience/degree/skills required');
            }
            
            // Cap at 100
            return Math.min(100, score);
        }
        
        // ==============================================
        // UI Updates and Results Display
        // ==============================================
        
        function activateProcessStep(stepId) {
            const step = document.getElementById(stepId);
            if (step) step.classList.add('active');
            
            // Mark previous steps as completed
            const steps = ['step1', 'step2', 'step3', 'step4'];
            const currentIndex = steps.indexOf(stepId);
            
            for (let i = 0; i < currentIndex; i++) {
                document.getElementById(steps[i]).classList.add('completed');
            }
        }
        
        function updateProgressLine(percentage) {
            progressLine.style.width = `${percentage}%`;
        }
        
        function showResult(type) {
            // Hide all visualizations first
            fraudVisualization.style.display = 'none';
            legitVisualization.style.display = 'none';
            invalidVisualization.style.display = 'none';
            resultsSection.style.display = 'none';
            
            // Show the appropriate visualization
            if (type === 'fraud') {
                fraudVisualization.style.display = 'flex';
                overallScore.textContent = `${fraudScore}% High Risk`;
                overallScore.className = 'result-score score-high';
                confidenceLevel.style.width = `${fraudScore}%`;
                
                // Update fraud details based on content
                updateFraudDetails();
                showNotification('warning', 'Fraud Detected', 'This job posting shows signs of being fraudulent');
            } else if (type === 'legitimate') {
                legitVisualization.style.display = 'flex';
                overallScore.textContent = `${fraudScore}% Low Risk`;
                overallScore.className = 'result-score score-low';
                confidenceLevel.style.width = `${100 - fraudScore}%`;
                showNotification('success', 'Legitimate Posting', 'No strong fraud indicators detected');
            } else {
                invalidVisualization.style.display = 'flex';
                showNotification('error', 'Invalid Content', 'The uploaded content is not a job posting');
            }
            
            // Show results after animation
            if (type !== 'invalid') {
                setTimeout(() => {
                    resultsSection.style.display = 'block';
                }, 1500);
            }
        }
        
        function updateFraudDetails() {
            // In a real app, this would analyze the actual content
            // For demo purposes, we're using simulated data
            
            const redFlags = [
                'Urgent hiring language commonly used in scams',
                'Unrealistically high salary for the position',
                'Contact via personal email rather than company domain',
                'Multiple grammar and spelling errors',
                'Requests for sensitive personal information'
            ];
            
            const yellowFlags = [
                'Vague or missing company information',
                'Some grammar or spelling issues detected',
                'Work from home with no experience required'
            ];
            
            // Update the results display
            const overallDetails = document.querySelector('.result-card .card-content ul');
            if (overallDetails) {
                overallDetails.innerHTML = '';
                
                if (redFlags.length > 0 || yellowFlags.length > 0) {
                    overallDetails.innerHTML += '<li>This job posting shows multiple indicators of being fraudulent:</li>';
                    
                    redFlags.forEach(flag => {
                        overallDetails.innerHTML += `<li><span class="red-flag">${flag}</span></li>`;
                    });
                    
                    yellowFlags.forEach(flag => {
                        overallDetails.innerHTML += `<li><span class="yellow-flag">${flag}</span></li>`;
                    });
                } else {
                    overallDetails.innerHTML += '<li>No strong fraud indicators detected, but proceed with caution.</li>';
                }
            }
        }
        
        function addToHistory(title, score) {
            const now = new Date();
            const dateStr = now.toLocaleString();
            
            analysisHistory.unshift({
                title: title,
                date: dateStr,
                score: score
            });
            
            // Keep only last 10 items
            if (analysisHistory.length > 10) {
                analysisHistory.pop();
            }
            
            // Update history UI
            updateHistoryUI();
        }
        
        function updateHistoryUI() {
            const historyList = document.querySelector('.history-list');
            historyList.innerHTML = '';
            
            analysisHistory.forEach(item => {
                const scoreClass = item.score > 70 ? 'score-high' : 
                                  item.score > 30 ? 'score-medium' : 'score-low';
                
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-item-content">
                        <div class="history-item-title">${item.title}</div>
                        <div class="history-item-date">Analyzed ${item.date}</div>
                    </div>
                    <div class="history-item-score ${scoreClass}">${Math.round(item.score)}% Risk</div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        function resetAnalysisUI() {
            resetResultsUI();
            fileInput.value = '';
            uploadArea.classList.remove('active', 'error');
            uploadArea.innerHTML = `
                <div class="upload-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17 8L12 3L7 8" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 3V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="upload-text">
                    <h3>Upload Job Posting</h3>
                    <p>Drag & drop or click to browse files (JPG, PNG, PDF, DOCX)</p>
                    <button class="btn btn-secondary">Select File</button>
                </div>
            `;
            
            showNotification('info', 'Ready', 'You can now upload a new job posting for analysis');
        }
        
        function resetResultsUI() {
            processAnimation.style.display = 'none';
            fraudVisualization.style.display = 'none';
            legitVisualization.style.display = 'none';
            invalidVisualization.style.display = 'none';
            resultsSection.style.display = 'none';
            extractedTextSection.style.display = 'none';
            ocrProgress.style.display = 'none';
            ocrStatus.style.display = 'none';
            ocrProgressBar.style.width = '0%';
            progressLine.style.width = '0%';
            
            // Reset process steps
            document.querySelectorAll('.process-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
        }
        
        // ==============================================
        // Event Listeners
        // ==============================================
        
        document.addEventListener('DOMContentLoaded', () => {
            initVanta();
            startAsGuest();
            navigateTo('home');
        });
        
        getStartedBtn.addEventListener('click', () => {
            showPage('app');
        });
        
        learnMoreBtn.addEventListener('click', () => {
            showNotification('info', 'About HireGuard AI', 'HireGuard AI uses advanced machine learning to detect fraudulent job postings with over 95% accuracy.');
        });
        
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('active');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('active');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('active');
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleFileUpload({ target: fileInput });
            }
        });
        
        fileInput.addEventListener('change', handleFileUpload);
        analyzeBtn.addEventListener('click', analyzeJobPosting);
        newAnalysisBtn.addEventListener('click', resetAnalysisUI);
        detailedAnalysisBtn.addEventListener('click', () => {
            modalOverlay.classList.add('active');
        });
        
        modalClose.addEventListener('click', () => {
            modalOverlay.classList.remove('active');
        });
        
        toggleAiFeatures.addEventListener('click', () => {
            aiFeatures.classList.toggle('active');
            toggleAiFeatures.innerHTML = aiFeatures.classList.contains('active') ? 
                '<i class="fas fa-eye-slash"></i> Hide AI Features' : 
                '<i class="fas fa-robot"></i> Show AI Features';
        });
        
        aiFeaturesToggle.addEventListener('click', () => {
            aiFeatures.classList.toggle('active');
        });
        
        settingsBtn.addEventListener('click', () => {
            navigateTo('settings');
        });
        
        githubBtn.addEventListener('click', () => {
            navigateTo('github');
        });
        
        settingsClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        githubClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        aboutClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        historyBtn.addEventListener('click', () => {
            navigateTo('history');
        });
        
        historyClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        // Navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.getAttribute('data-page');
                navigateTo(page);
            });
        });
        
        notification.querySelector('.notification-close').addEventListener('click', () => {
            notification.classList.remove('show');
        });
        
        // Background selector
        bgOptions.forEach(option => {
            option.addEventListener('click', () => {
                const bgType = option.getAttribute('data-bg');
                initVanta(bgType);
                
                // Update active state
                bgOptions.forEach(opt => opt.style.borderColor = 'transparent');
                option.style.borderColor = 'white';
            });
        });
        
        // Set first bg option as active
        if (bgOptions.length > 0) {
            bgOptions[0].style.borderColor = 'white';
        }
        
        // Close modal when clicking outside
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('active');
            }
        });
        
        // Branch selector functionality
        branchInput.addEventListener('click', () => {
            branchDropdown.classList.toggle('active');
        });
        
        branchOptions.forEach(option => {
            option.addEventListener('click', () => {
                const branch = option.getAttribute('data-branch');
                branchInput.value = branch;
                branchDropdown.classList.remove('active');
                
                // Update active state
                branchOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                
                showNotification('info', 'Branch Selected', `Switched to ${branch} branch`);
            });
        });
        
        // Close branch dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.branch-selector')) {
                branchDropdown.classList.remove('active');
            }
        });
    </script>
</body>
</html>
