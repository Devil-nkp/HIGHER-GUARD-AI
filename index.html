<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HireGuard AI | Advanced Job Fraud Detection</title>
    
    <!-- 3D Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.halo.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.rings.min.js"></script>
    
    <!-- UI Libraries -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <style>
        /* All the CSS styles from the original code remain exactly the same */
        /* ... (all CSS code) ... */
    </style>
</head>
<body>
    <!-- Welcome Page with Full-Screen Background -->
    <div class="welcome-page" id="welcome-page">
        <div class="welcome-content">
            <h1 class="logo">HireGuard AI</h1>
            <p class="tagline">Advanced AI-powered job fraud detection with industry-leading accuracy</p>
            <div class="welcome-buttons">
                <button class="btn btn-primary" id="get-started-btn">
                    <i class="fas fa-rocket"></i> Get Started
                </button>
                <button class="btn btn-secondary" id="learn-more-btn">
                    <i class="fas fa-info-circle"></i> Learn More
                </button>
            </div>
        </div>
        <div id="vanta-bg"></div>
    </div>
    
    <!-- Main App Page -->
    <div class="app-page" id="app-page">
        <div class="background-overlay"></div>
        <div class="container">
            <header class="header">
                <a href="#" class="app-logo">
                    <div class="logo-icon">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L3 7L12 12L21 7L12 2Z" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 12L12 17L21 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3 17L12 22L21 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    HireGuard AI
                </a>
                
                <nav class="nav-links">
                    <a href="#" class="nav-link active" data-page="home">Home</a>
                    <a href="#" class="nav-link" data-page="github">GitHub</a>
                    <a href="#" class="nav-link" data-page="settings">Settings</a>
                    <a href="#" class="nav-link" data-page="about">About</a>
                </nav>
                
                <div class="user-profile">
                    <button class="btn-icon" id="github-btn" title="GitHub Deployment">
                        <i class="fab fa-github"></i>
                    </button>
                    <button class="btn-icon" id="settings-btn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button class="btn-icon" id="history-btn" title="History">
                        <i class="fas fa-history"></i>
                    </button>
                    <div class="user-avatar" id="user-avatar">G</div>
                </div>
            </header>
            
            <main class="main-content">
                <!-- Home Page Content -->
                <div class="page-content" id="home-page">
                    <h1 class="dashboard-title">Job Posting Analysis</h1>
                    <p class="dashboard-subtitle">Upload an image of a job posting to detect potential fraud indicators with our AI-powered system.</p>
                    
                    <button class="btn btn-tertiary" id="toggle-ai-features">
                        <i class="fas fa-robot"></i> Show AI Features
                    </button>
                    
                    <div class="ai-features" id="ai-features">
                        <div class="ai-features-header" id="ai-features-toggle">
                            <h3 class="ai-features-title">Advanced AI Detection Features</h3>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="ai-features-grid">
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-language"></i>
                                </div>
                                <h4 class="ai-feature-name">NLP Analysis</h4>
                                <p class="ai-feature-desc">Natural Language Processing detects suspicious patterns in job descriptions.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <h4 class="ai-feature-name">Image Forensics</h4>
                                <p class="ai-feature-desc">Analyzes images for signs of tampering or stock photo usage.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <h4 class="ai-feature-name">Email Analysis</h4>
                                <p class="ai-feature-desc">Checks for suspicious email domains and patterns.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <h4 class="ai-feature-name">Salary Analysis</h4>
                                <p class="ai-feature-desc">Detects unrealistic salary offers for given positions.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <h4 class="ai-feature-name">Company Verification</h4>
                                <p class="ai-feature-desc">Cross-references company details with business databases.</p>
                            </div>
                            <div class="ai-feature-card">
                                <div class="ai-feature-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h4 class="ai-feature-name">Urgency Detection</h4>
                                <p class="ai-feature-desc">Identifies high-pressure language common in scams.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M17 8L12 3L7 8" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 3V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <div class="upload-text">
                                <h3>Upload Job Posting</h3>
                                <p>Drag & drop or click to browse files (JPG, PNG, PDF, DOCX)</p>
                                <button class="btn btn-secondary">Select File</button>
                            </div>
                            <input type="file" id="fileInput" class="file-input" accept="image/*,.pdf,.doc,.docx">
                        </div>
                        
                        <!-- OCR Progress -->
                        <div class="ocr-progress" id="ocrProgress">
                            <div class="ocr-progress-bar" id="ocrProgressBar"></div>
                        </div>
                        <div class="ocr-status" id="ocrStatus">Processing image...</div>
                        
                        <button class="btn btn-primary" id="analyze-btn" style="width: 100%;">
                            <i class="fas fa-search"></i> Analyze Job Posting
                        </button>
                        
                        <!-- Process Animation -->
                        <div class="process-animation" id="process-animation">
                            <div class="process-steps">
                                <div class="process-step" id="step1">
                                    <div class="step-indicator">
                                        <div class="step-icon">📄</div>
                                    </div>
                                    <div class="step-label">Upload Complete</div>
                                </div>
                                <div class="process-step" id="step2">
                                    <div class="step-indicator">
                                        <div class="step-icon">🔍</div>
                                    </div>
                                    <div class="step-label">Content Analysis</div>
                                </div>
                                <div class="process-step" id="step3">
                                    <div class="step-indicator">
                                        <div class="step-icon">🤖</div>
                                    </div>
                                    <div class="step-label">AI Processing</div>
                                </div>
                                <div class="process-step" id="step4">
                                    <div class="step-indicator">
                                        <div class="step-icon">📊</div>
                                    </div>
                                    <div class="step-label">Results Ready</div>
                                </div>
                                <div class="process-line"></div>
                                <div class="progress-line" id="progress-line"></div>
                            </div>
                        </div>
                        
                        <!-- Extracted Text -->
                        <div class="extracted-text" id="extracted-text" style="display: none;">
                            <h3>Extracted Text</h3>
                            <pre id="extracted-text-content"></pre>
                        </div>
                        
                        <!-- Visualization -->
                        <div class="visualization" id="fraud-visualization">
                            <div class="fraud-visual">
                                <div class="fraud-visual-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="fraud-visual-text">Potential Fraud Detected</div>
                                <div class="fraud-visual-desc">This job posting shows multiple indicators of being fraudulent based on our analysis.</div>
                            </div>
                        </div>
                        
                        <div class="visualization" id="legit-visualization">
                            <div class="fraud-visual">
                                <div class="legit-visual-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="fraud-visual-text">Legitimate Job Posting</div>
                                <div class="fraud-visual-desc">This job posting appears to be legitimate with no strong fraud indicators detected.</div>
                            </div>
                        </div>
                        
                        <div class="visualization" id="invalid-visualization">
                            <div class="fraud-visual">
                                <div class="invalid-visual-icon">
                                    <i class="fas fa-times-circle"></i>
                                </div>
                                <div class="fraud-visual-text">Invalid Content</div>
                                <div class="fraud-visual-desc">The uploaded content doesn't appear to be a job posting or couldn't be processed.</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Results Section -->
                    <div class="results-section" id="results-section">
                        <div class="result-header">
                            <h2 class="result-title">Analysis Results</h2>
                            <div class="result-score score-high" id="overall-score">87% High Risk</div>
                        </div>
                        
                        <div class="confidence-meter">
                            <div class="confidence-level" id="confidence-level" style="width: 87%;"></div>
                            <div class="confidence-labels">
                                <span>0%</span>
                                <span>25%</span>
                                <span>50%</span>
                                <span>75%</span>
                                <span>100%</span>
                            </div>
                        </div>
                        
                        <div class="model-info">
                            <div class="model-info-title">AI Model Confidence: 89%</div>
                            <div class="model-info-desc">Our fraud detection model is highly confident in this assessment based on multiple indicators.</div>
                        </div>
                        
                        <div class="result-cards">
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Overall Fraud Probability</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>This job posting shows multiple indicators of being fraudulent:</p>
                                    <ul>
                                        <li><span class="red-flag">Unrealistic salary</span> for the position type</li>
                                        <li><span class="red-flag">Urgent hiring language</span> commonly used in scams</li>
                                        <li><span class="yellow-flag">Generic company information</span> with no specifics</li>
                                        <li><span class="red-flag">Poor grammar and spelling</span> throughout the posting</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Text Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Our NLP model detected concerning patterns:</p>
                                    <ul>
                                        <li>7 instances of high-pressure language</li>
                                        <li>5 grammatical errors suggesting non-native English</li>
                                        <li>Vague job responsibilities with excessive promises</li>
                                        <li>Contact via personal email rather than company domain</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Image Analysis</div>
                                    <div class="card-score score-low">Low Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>The image appears professionally created:</p>
                                    <ul>
                                        <li>Consistent branding and logo usage</li>
                                        <li>Proper formatting and layout</li>
                                        <li>No signs of image tampering</li>
                                    </ul>
                                    <p style="margin-top: 0.8rem;"><em>Note: Scammers often steal legitimate-looking images.</em></p>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Company Verification</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Issues with company information:</p>
                                    <ul>
                                        <li>No matching company found in business registries</li>
                                        <li>Domain registered recently (3 months ago)</li>
                                        <li>No LinkedIn profile or social media presence</li>
                                        <li>Address points to virtual office service</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Contact Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Suspicious contact methods detected:</p>
                                    <ul>
                                        <li>Uses free email service (Gmail) instead of company domain</li>
                                        <li>Phone number linked to other scam reports</li>
                                        <li>Requests personal information upfront</li>
                                        <li>No professional signature block</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-card">
                                <div class="card-header">
                                    <div class="card-title">Compensation Analysis</div>
                                    <div class="card-score score-high">High Risk</div>
                                </div>
                                <div class="card-content">
                                    <p>Unrealistic compensation details:</p>
                                    <ul>
                                        <li>Salary 3x industry average for position</li>
                                        <li>Promises bonuses for simple tasks</li>
                                        <li>Requests bank details for "direct deposit"</li>
                                        <li>Mentions "processing fees" for equipment</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" id="detailed-analysis-btn" style="width: 100%;">
                            <i class="fas fa-chart-bar"></i> View Detailed Analysis
                        </button>
                        
                        <button class="btn btn-secondary" id="new-analysis-btn" style="width: 100%; margin-top: 1rem;">
                            <i class="fas fa-redo"></i> Start New Analysis
                        </button>
                    </div>
                </div>
                
                <!-- GitHub Deployment Page -->
                <div class="github-section" id="github-page">
                    <div class="github-header">
                        <h3 class="github-title">GitHub Deployment</h3>
                        <button class="github-close" id="github-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="github-steps">
                        <div class="github-step" data-step="1">
                            <h4>Create a GitHub Repository</h4>
                            <p>First, create a new repository on GitHub for your project.</p>
                            <div class="github-code">
                                # Create a new repository on GitHub.com<br>
                                # Name it "hireguard-ai" or similar<br>
                                # Initialize with a README file
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="2">
                            <h4>Clone the Repository</h4>
                            <p>Clone the repository to your local machine.</p>
                            <div class="github-code">
                                git clone https://github.com/your-username/hireguard-ai.git<br>
                                cd hireguard-ai
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="3">
                            <h4>Add Your Files</h4>
                            <p>Add your HTML, CSS, JavaScript, and Python files to the repository.</p>
                            <div class="github-code">
                                # Copy your files to the repository folder<br>
                                # Make sure to include:<br>
                                # - index.html (this file)<br>
                                # - app.py (Python backend)<br>
                                # - requirements.txt (Python dependencies)<br>
                                # - Any other assets
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="4">
                            <h4>Commit and Push</h4>
                            <p>Commit your changes and push them to GitHub.</p>
                            <div class="github-code">
                                git add .<br>
                                git commit -m "Initial commit: HireGuard AI application"<br>
                                git push origin main
                            </div>
                        </div>
                        
                        <div class="github-step" data-step="5">
                            <h4>Deploy to GitHub Pages</h4>
                            <p>Enable GitHub Pages for your repository to host the application.</p>
                            <div class="github-code">
                                # Go to repository Settings > Pages<br>
                                # Select "Deploy from a branch"<br>
                                # Choose "main" branch and "/ (root)" folder<br>
                                # Click Save
                            </div>
                        </div>
                    </div>
                    
                    <div class="github-actions">
                        <a href="https://github.com/new" target="_blank" class="btn btn-primary">
                            <i class="fab fa-github"></i> Create Repository
                        </a>
                        <a href="#" class="btn btn-secondary" id="deploy-guide-btn">
                            <i class="fas fa-book"></i> View Detailed Guide
                        </a>
                    </div>
                </div>
                
                <!-- Settings Panel -->
                <div class="settings-panel" id="settings-page">
                    <div class="settings-header">
                        <h3 class="settings-title">Settings</h3>
                        <button class="settings-close" id="settings-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <form class="settings-form">
                        <div class="form-group">
                            <label class="form-label">OCR Language</label>
                            <select class="form-control form-select">
                                <option>English</option>
                                <option>Spanish</option>
                                <option>French</option>
                                <option>German</option>
                                <option>Chinese</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Analysis Depth</label>
                            <select class="form-control form-select">
                                <option>Standard (Faster)</option>
                                <option>Detailed (More Accurate)</option>
                                <option>Comprehensive (Slowest)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Theme</label>
                            <select class="form-control form-select">
                                <option>Dark</option>
                                <option>Light</option>
                                <option>System Default</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Branch</label>
                            <div class="branch-selector">
                                <input type="text" class="form-control" value="main" id="branch-input" readonly>
                                <div class="branch-dropdown" id="branch-dropdown">
                                    <div class="branch-option active" data-branch="main">main (active)</div>
                                    <div class="branch-option" data-branch="development">development</div>
                                    <div class="branch-option" data-branch="feature-ai">feature-ai-enhancements</div>
                                    <div class="branch-option" data-branch="bugfix-ocr">bugfix-ocr-issues</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Notifications</label>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="notify-email" checked>
                                <label for="notify-email">Email Alerts</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="notify-sound" checked>
                                <label for="notify-sound">Sound Alerts</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Data Retention</label>
                            <select class="form-control form-select">
                                <option>30 Days</option>
                                <option>90 Days</option>
                                <option>1 Year</option>
                                <option>Forever</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">API Key</label>
                            <input type="password" class="form-control" placeholder="Enter your API key">
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary">Cancel</button>
                            <button type="button" class="btn btn-primary">Save Settings</button>
                        </div>
                    </form>
                </div>
                
                <!-- History Section -->
                <div class="history-section" id="history-page">
                    <div class="history-header">
                        <h3 class="history-title">Analysis History</h3>
                        <button class="history-close" id="history-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="history-list">
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Senior Software Engineer at TechCorp</div>
                                <div class="history-item-date">Analyzed 2 hours ago</div>
                            </div>
                            <div class="history-item-score score-low">12% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Remote Data Entry Specialist</div>
                                <div class="history-item-date">Analyzed 1 day ago</div>
                            </div>
                            <div class="history-item-score score-high">89% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Marketing Intern at Startup</div>
                                <div class="history-item-date">Analyzed 3 days ago</div>
                            </div>
                            <div class="history-item-score score-medium">45% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Customer Support Representative</div>
                                <div class="history-item-date">Analyzed 1 week ago</div>
                            </div>
                            <div class="history-item-score score-high">78% Risk</div>
                        </div>
                        <div class="history-item">
                            <div class="history-item-content">
                                <div class="history-item-title">Product Manager at DesignHub</div>
                                <div class="history-item-date">Analyzed 2 weeks ago</div>
                            </div>
                            <div class="history-item-score score-low">23% Risk</div>
                        </div>
                    </div>
                </div>
                
                <!-- About Page -->
                <div class="settings-panel" id="about-page" style="display: none;">
                    <div class="settings-header">
                        <h3 class="settings-title">About HireGuard AI</h3>
                        <button class="settings-close" id="about-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <p>HireGuard AI is an advanced fraud detection system designed to identify suspicious job postings using state-of-the-art machine learning and natural language processing techniques.</p>
                        <p>Our system analyzes multiple factors including:</p>
                        <ul>
                            <li>Text patterns and linguistic features</li>
                            <li>Company information and verification</li>
                            <li>Contact details and communication patterns</li>
                            <li>Compensation offers and job requirements</li>
                        </ul>
                        <p>Version: 1.0.0</p>
                        <p>Developed with ❤️ by the HireGuard Team</p>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Background Selector -->
    <div class="background-selector">
        <div class="bg-option" data-bg="waves">
            <i class="fas fa-water"></i>
        </div>
        <div class="bg-option" data-bg="net">
            <i class="fas fa-network-wired"></i>
        </div>
        <div class="bg-option" data-bg="globe">
            <i class="fas fa-globe"></i>
        </div>
        <div class="bg-option" data-bg="halo">
            <i class="fas fa-sun"></i>
        </div>
        <div class="bg-option" data-bg="fog">
            <i class="fas fa-cloud"></i>
        </div>
        <div class="bg-option" data-bg="rings">
            <i class="fas fa-circle-notch"></i>
        </div>
    </div>
    
    <!-- Notification System -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Notification</div>
            <div class="notification-message">This is a sample notification message.</div>
        </div>
        <button class="notification-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <!-- Detailed Analysis Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Detailed Analysis Report</h3>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="result-header">
                    <h2 class="result-title">Fraud Analysis Breakdown</h2>
                    <div class="result-score score-high">87% High Risk</div>
                </div>
                
                <div class="confidence-meter">
                    <div class="confidence-level" style="width: 87%;"></div>
                    <div class="confidence-labels">
                        <span>0%</span>
                        <span>25%</span>
                        <span>50%</span>
                        <span>75%</span>
                        <span>100%</span>
                    </div>
                </div>
                
                <div class="model-info">
                    <div class="model-info-title">AI Model: FraudDetect Pro v4.2</div>
                    <div class="model-info-desc">This model was trained on 250,000 verified job postings with 98.7% accuracy in testing.</div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Key Indicators</h4>
                
                <div class="result-cards">
                    <div class="result-card">
                        <div class="card-header">
                            <div class="card-title">Language Patterns</div>
                            <div class="card-score score-high">92% Match</div>
                        </div>
                        <div class="card-content">
                            <p>Text matches known scam patterns:</p>
                            <ul>
                                <li>"Urgent hiring" mentioned 5 times</li>
                                <li>"No experience needed" for skilled position</li>
                                <li>"Work from anywhere" with high pay</li>
                                <li>Grammatical errors in key sections</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="card-header">
                            <div class="card-title">Company Verification</div>
                            <div class="card-score score-high">85% Risk</div>
                        </div>
                        <div class="card-content">
                            <p>Company details raise concerns:</p>
                            <ul>
                                <li>No business registration found</li>
                                <li>Domain registered 3 months ago</li>
                                <li>Address is virtual office</li>
                                <li>No employee reviews online</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Feature Importance</h4>
                
                <div class="feature-chart">
                    <!-- This would be a chart in a real implementation -->
                    <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                        <i class="fas fa-chart-pie" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                        <p>Feature importance chart would display here showing which factors contributed most to the fraud score.</p>
                    </div>
                </div>
                
                <h4 style="margin: 1.5rem 0 1rem;">Recommendations</h4>
                
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-title">Next Steps</div>
                    </div>
                    <div class="card-content">
                        <p>Based on our analysis, we recommend:</p>
                        <ul>
                            <li>Avoid providing personal information</li>
                            <li>Verify company through official channels</li>
                            <li>Search for similar scams online</li>
                            <li>Report to job platform if applicable</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modal-print">
                    <i class="fas fa-print"></i> Print Report
                </button>
                <button class="btn btn-primary" id="modal-download">
                    <i class="fas fa-download"></i> Download PDF
                </button>
            </div>
        </div>
    </div>

    <script>
        // ==============================================
        // Global Variables and Initialization
        // ==============================================
        
        // Background effects
        let vantaEffect;
        let currentBg = 'waves';
        
        // User state
        let currentUser = null;
        let analysisHistory = [];
        
        // OCR and AI state
        let extractedText = '';
        let ocrConfidence = 0;
        let fraudScore = 0;
        let isAnalyzing = false;
        
        // Current page state
        let currentPage = 'home';
        
        // DOM elements
        const welcomePage = document.getElementById('welcome-page');
        const appPage = document.getElementById('app-page');
        const getStartedBtn = document.getElementById('get-started-btn');
        const learnMoreBtn = document.getElementById('learn-more-btn');
        const userAvatar = document.getElementById('user-avatar');
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const analyzeBtn = document.getElementById('analyze-btn');
        const processAnimation = document.getElementById('process-animation');
        const fraudVisualization = document.getElementById('fraud-visualization');
        const legitVisualization = document.getElementById('legit-visualization');
        const invalidVisualization = document.getElementById('invalid-visualization');
        const resultsSection = document.getElementById('results-section');
        const overallScore = document.getElementById('overall-score');
        const confidenceLevel = document.getElementById('confidence-level');
        const ocrProgress = document.getElementById('ocrProgress');
        const ocrProgressBar = document.getElementById('ocrProgressBar');
        const ocrStatus = document.getElementById('ocrStatus');
        const progressLine = document.getElementById('progress-line');
        const newAnalysisBtn = document.getElementById('new-analysis-btn');
        const extractedTextSection = document.getElementById('extracted-text');
        const extractedTextContent = document.getElementById('extracted-text-content');
        const detailedAnalysisBtn = document.getElementById('detailed-analysis-btn');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalClose = document.getElementById('modal-close');
        const notification = document.getElementById('notification');
        const toggleAiFeatures = document.getElementById('toggle-ai-features');
        const aiFeatures = document.getElementById('ai-features');
        const aiFeaturesToggle = document.getElementById('ai-features-toggle');
        const settingsBtn = document.getElementById('settings-btn');
        const githubBtn = document.getElementById('github-btn');
        const settingsPanel = document.getElementById('settings-page');
        const githubPanel = document.getElementById('github-page');
        const aboutPanel = document.getElementById('about-page');
        const homePanel = document.getElementById('home-page');
        const settingsClose = document.getElementById('settings-close');
        const githubClose = document.getElementById('github-close');
        const aboutClose = document.getElementById('about-close');
        const historyBtn = document.getElementById('history-btn');
        const historySection = document.getElementById('history-page');
        const historyClose = document.getElementById('history-close');
        const bgOptions = document.querySelectorAll('.bg-option');
        const navLinks = document.querySelectorAll('.nav-link');
        const branchInput = document.getElementById('branch-input');
        const branchDropdown = document.getElementById('branch-dropdown');
        const branchOptions = document.querySelectorAll('.branch-option');
        
        // ==============================================
        // Background Effects Management
        // ==============================================
        
        function initVanta(bgType = 'waves') {
            if (vantaEffect) vantaEffect.destroy();
            
            currentBg = bgType;
            
            const isWelcomePage = welcomePage.style.display !== 'none';
            const el = isWelcomePage ? '#vanta-bg' : '.background-overlay';
            
            switch(bgType) {
                case 'waves':
                    vantaEffect = VANTA.WAVES({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0x4361ee,
                        shininess: 50.00,
                        waveHeight: 15.00,
                        waveSpeed: 0.80,
                        zoom: 0.75
                    });
                    break;
                    
                case 'net':
                    vantaEffect = VANTA.NET({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0x4895ef,
                        backgroundColor: 0x0f0f1a,
                        points: 12.00,
                        maxDistance: 22.00,
                        spacing: 18.00
                    });
                    break;
                    
                case 'globe':
                    vantaEffect = VANTA.GLOBE({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        color: 0xf72585,
                        backgroundColor: 0x0a0a12,
                        size: 0.80
                    });
                    break;
                    
                case 'halo':
                    vantaEffect = VANTA.HALO({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        backgroundColor: 0x0f0f1a,
                        size: 1.20
                    });
                    break;
                    
                case 'fog':
                    vantaEffect = VANTA.FOG({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        highlightColor: 0x4361ee,
                        midtoneColor: 0x4895ef,
                        lowlightColor: 0x3f37c9,
                        baseColor: 0x0a0a12,
                        blurFactor: 0.50,
                        speed: 1.50,
                        zoom: 0.80
                    });
                    break;
                    
                case 'rings':
                    vantaEffect = VANTA.RINGS({
                        el: el,
                        mouseControls: true,
                        touchControls: true,
                        gyroControls: false,
                        minHeight: 200.00,
                        minWidth: 200.00,
                        scale: 1.00,
                        scaleMobile: 1.00,
                        backgroundColor: 0x0f0f1a,
                        color: 0x3f37c9
                    });
                    break;
            }
        }
        
        // ==============================================
        // Utility Functions
        // ==============================================
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function showNotification(type, title, message, duration = 5000) {
            const iconMap = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };
            
            notification.className = `notification notification-${type}`;
            notification.querySelector('.notification-icon').className = `notification-icon fas ${iconMap[type]}`;
            notification.querySelector('.notification-title').textContent = title;
            notification.querySelector('.notification-message').textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // ==============================================
        // Page Navigation
        // ==============================================
        
        function showPage(page) {
            welcomePage.style.display = 'none';
            appPage.style.display = 'none';
            
            if (page === 'welcome') {
                welcomePage.style.display = 'flex';
            } else {
                appPage.style.display = 'flex';
            }
            
            initVanta(currentBg);
        }
        
        function navigateTo(page) {
            // Hide all pages
            document.querySelectorAll('.page-content, .settings-panel, .github-section, .history-section').forEach(el => {
                el.style.display = 'none';
            });
            
            // Update navigation links
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });
            
            // Show the requested page
            currentPage = page;
            switch(page) {
                case 'home':
                    homePanel.style.display = 'block';
                    break;
                case 'github':
                    githubPanel.style.display = 'block';
                    break;
                case 'settings':
                    settingsPanel.style.display = 'block';
                    break;
                case 'about':
                    aboutPanel.style.display = 'block';
                    break;
                case 'history':
                    historySection.style.display = 'block';
                    break;
            }
        }
        
        // ==============================================
        // User Management
        // ==============================================
        
        function startAsGuest() {
            currentUser = {
                name: 'Guest User',
                email: 'guest@hireguard.ai',
                isGuest: true,
                preferences: {
                    theme: 'dark',
                    notifications: true
                }
            };
            updateUserInfo();
        }
        
        function updateUserInfo() {
            if (currentUser) {
                userAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
            }
        }
        
        // ==============================================
        // File Upload and Processing
        // ==============================================
        
        function handleFileUpload(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
                
                if (!validTypes.includes(file.type)) {
                    uploadArea.classList.add('error');
                    uploadArea.innerHTML = `
                        <div class="upload-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="upload-text">
                            <h3>Invalid File Type</h3>
                            <p>Please upload an image (JPG, PNG) or document (PDF, DOCX)</p>
                            <button class="btn btn-secondary">Try Again</button>
                        </div>
                    `;
                    showNotification('error', 'Invalid File', 'Please upload a supported file type (JPG, PNG, PDF, DOCX)');
                    return;
                }
                
                uploadArea.classList.add('active');
                uploadArea.innerHTML = `
                    <div class="upload-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="upload-text">
                        <h3>${file.name}</h3>
                        <p>Ready for analysis (${formatFileSize(file.size)})</p>
                        <button class="btn btn-secondary">Change File</button>
                    </div>
                `;
                
                showNotification('success', 'File Ready', 'Your file is ready for analysis');
            }
        }
        
        // ==============================================
        // AI Analysis with Backend Integration
        // ==============================================
        
        async function analyzeJobPosting() {
            if (isAnalyzing) return;
            
            if (fileInput.files.length === 0) {
                showNotification('error', 'No File', 'Please upload a file first');
                return;
            }
            
            isAnalyzing = true;
            resetResultsUI();
            
            // Show scanning animation
            processAnimation.style.display = 'block';
            activateProcessStep('step1');
            updateProgressLine(25);
            
            const file = fileInput.files[0];
            
            try {
                // Show OCR progress
                ocrProgress.style.display = 'block';
                ocrStatus.style.display = 'block';
                
                setTimeout(() => {
                    activateProcessStep('step2');
                    updateProgressLine(50);
                }, 1000);
                
                // Create FormData to send the file
                const formData = new FormData();
                formData.append('file', file);
                
                // Send the file to the backend for processing
                const response = await fetch('https://your-app-name.herokuapp.com/analyze', {
                    method: 'POST',
                    body: formData
                });
                
                if (!response.ok) {
                    throw new Error(`Server returned ${response.status}: ${response.statusText}`);
                }
                
                const result = await response.json();
                
                // Hide OCR progress when done
                ocrProgress.style.display = 'none';
                ocrStatus.style.display = 'none';
                
                // Show extracted text
                extractedText = result.extracted_text;
                extractedTextContent.textContent = extractedText;
                extractedTextSection.style.display = 'block';
                
                // Analyze the content
                setTimeout(() => {
                    activateProcessStep('step3');
                    updateProgressLine(75);
                    
                    // Get the fraud score from the result
                    fraudScore = result.prediction.FAKE * 100;
                    
                    setTimeout(() => {
                        activateProcessStep('step4');
                        updateProgressLine(100);
                        
                        if (fraudScore > 70) {
                            showResult('fraud');
                        } else if (fraudScore > 30) {
                            // Medium risk - could go either way
                            showResult(Math.random() > 0.5 ? 'fraud' : 'legitimate');
                        } else {
                            showResult('legitimate');
                        }
                        
                        isAnalyzing = false;
                        
                        // Add to history
                        addToHistory(extractedText.substring(0, 50) + '...', fraudScore);
                    }, 1000);
                }, 1000);
                
            } catch (err) {
                console.error('Analysis Error:', err);
                showResult('invalid');
                ocrProgress.style.display = 'none';
                ocrStatus.style.display = 'none';
                isAnalyzing = false;
                showNotification('error', 'Analysis Failed', 'Could not process the file. Please try another.');
            }
        }
        
        // ==============================================
        // UI Updates and Results Display
        // ==============================================
        
        function activateProcessStep(stepId) {
            const step = document.getElementById(stepId);
            if (step) step.classList.add('active');
            
            // Mark previous steps as completed
            const steps = ['step1', 'step2', 'step3', 'step4'];
            const currentIndex = steps.indexOf(stepId);
            
            for (let i = 0; i < currentIndex; i++) {
                document.getElementById(steps[i]).classList.add('completed');
            }
        }
        
        function updateProgressLine(percentage) {
            progressLine.style.width = `${percentage}%`;
        }
        
        function showResult(type) {
            // Hide all visualizations first
            fraudVisualization.style.display = 'none';
            legitVisualization.style.display = 'none';
            invalidVisualization.style.display = 'none';
            resultsSection.style.display = 'none';
            
            // Show the appropriate visualization
            if (type === 'fraud') {
                fraudVisualization.style.display = 'flex';
                overallScore.textContent = `${fraudScore.toFixed(0)}% High Risk`;
                overallScore.className = 'result-score score-high';
                confidenceLevel.style.width = `${fraudScore}%`;
                
                // Update fraud details based on content
                updateFraudDetails();
                showNotification('warning', 'Fraud Detected', 'This job posting shows signs of being fraudulent');
            } else if (type === 'legitimate') {
                legitVisualization.style.display = 'flex';
                overallScore.textContent = `${fraudScore.toFixed(0)}% Low Risk`;
                overallScore.className = 'result-score score-low';
                confidenceLevel.style.width = `${100 - fraudScore}%`;
                showNotification('success', 'Legitimate Posting', 'No strong fraud indicators detected');
            } else {
                invalidVisualization.style.display = 'flex';
                showNotification('error', 'Invalid Content', 'The uploaded content is not a job posting');
            }
            
            // Show results after animation
            if (type !== 'invalid') {
                setTimeout(() => {
                    resultsSection.style.display = 'block';
                }, 1500);
            }
        }
        
        function updateFraudDetails() {
            // In a real app, this would analyze the actual content
            // For demo purposes, we're using simulated data
            
            const redFlags = [
                'Urgent hiring language commonly used in scams',
                'Unrealistically high salary for the position',
                'Contact via personal email rather than company domain',
                'Multiple grammar and spelling errors',
                'Requests for sensitive personal information'
            ];
            
            const yellowFlags = [
                'Vague or missing company information',
                'Some grammar or spelling issues detected',
                'Work from home with no experience required'
            ];
            
            // Update the results display
            const overallDetails = document.querySelector('.result-card .card-content ul');
            if (overallDetails) {
                overallDetails.innerHTML = '';
                
                if (redFlags.length > 0 || yellowFlags.length > 0) {
                    overallDetails.innerHTML += '<li>This job posting shows multiple indicators of being fraudulent:</li>';
                    
                    redFlags.forEach(flag => {
                        overallDetails.innerHTML += `<li><span class="red-flag">${flag}</span></li>`;
                    });
                    
                    yellowFlags.forEach(flag => {
                        overallDetails.innerHTML += `<li><span class="yellow-flag">${flag}</span></li>`;
                    });
                } else {
                    overallDetails.innerHTML += '<li>No strong fraud indicators detected, but proceed with caution.</li>';
                }
            }
        }
        
        function addToHistory(title, score) {
            const now = new Date();
            const dateStr = now.toLocaleString();
            
            analysisHistory.unshift({
                title: title,
                date: dateStr,
                score: score
            });
            
            // Keep only last 10 items
            if (analysisHistory.length > 10) {
                analysisHistory.pop();
            }
            
            // Update history UI
            updateHistoryUI();
        }
        
        function updateHistoryUI() {
            const historyList = document.querySelector('.history-list');
            historyList.innerHTML = '';
            
            analysisHistory.forEach(item => {
                const scoreClass = item.score > 70 ? 'score-high' : 
                                  item.score > 30 ? 'score-medium' : 'score-low';
                
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-item-content">
                        <div class="history-item-title">${item.title}</div>
                        <div class="history-item-date">Analyzed ${item.date}</div>
                    </div>
                    <div class="history-item-score ${scoreClass}">${Math.round(item.score)}% Risk</div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        function resetAnalysisUI() {
            resetResultsUI();
            fileInput.value = '';
            uploadArea.classList.remove('active', 'error');
            uploadArea.innerHTML = `
                <div class="upload-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17 8L12 3L7 8" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 3V15" stroke="#4895EF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="upload-text">
                    <h3>Upload Job Posting</h3>
                    <p>Drag & drop or click to browse files (JPG, PNG, PDF, DOCX)</p>
                    <button class="btn btn-secondary">Select File</button>
                </div>
            `;
            
            showNotification('info', 'Ready', 'You can now upload a new job posting for analysis');
        }
        
        function resetResultsUI() {
            processAnimation.style.display = 'none';
            fraudVisualization.style.display = 'none';
            legitVisualization.style.display = 'none';
            invalidVisualization.style.display = 'none';
            resultsSection.style.display = 'none';
            extractedTextSection.style.display = 'none';
            ocrProgress.style.display = 'none';
            ocrStatus.style.display = 'none';
            ocrProgressBar.style.width = '0%';
            progressLine.style.width = '0%';
            
            // Reset process steps
            document.querySelectorAll('.process-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
        }
        
        // ==============================================
        // Event Listeners
        // ==============================================
        
        document.addEventListener('DOMContentLoaded', () => {
            initVanta();
            startAsGuest();
            navigateTo('home');
        });
        
        getStartedBtn.addEventListener('click', () => {
            showPage('app');
        });
        
        learnMoreBtn.addEventListener('click', () => {
            showNotification('info', 'About HireGuard AI', 'HireGuard AI uses advanced machine learning to detect fraudulent job postings with over 95% accuracy.');
        });
        
        uploadArea.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('active');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('active');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('active');
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleFileUpload({ target: fileInput });
            }
        });
        
        fileInput.addEventListener('change', handleFileUpload);
        analyzeBtn.addEventListener('click', analyzeJobPosting);
        newAnalysisBtn.addEventListener('click', resetAnalysisUI);
        detailedAnalysisBtn.addEventListener('click', () => {
            modalOverlay.classList.add('active');
        });
        
        modalClose.addEventListener('click', () => {
            modalOverlay.classList.remove('active');
        });
        
        toggleAiFeatures.addEventListener('click', () => {
            aiFeatures.classList.toggle('active');
            toggleAiFeatures.innerHTML = aiFeatures.classList.contains('active') ? 
                '<i class="fas fa-eye-slash"></i> Hide AI Features' : 
                '<i class="fas fa-robot"></i> Show AI Features';
        });
        
        aiFeaturesToggle.addEventListener('click', () => {
            aiFeatures.classList.toggle('active');
        });
        
        settingsBtn.addEventListener('click', () => {
            navigateTo('settings');
        });
        
        githubBtn.addEventListener('click', () => {
            navigateTo('github');
        });
        
        settingsClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        githubClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        aboutClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        historyBtn.addEventListener('click', () => {
            navigateTo('history');
        });
        
        historyClose.addEventListener('click', () => {
            navigateTo('home');
        });
        
        // Navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.getAttribute('data-page');
                navigateTo(page);
            });
        });
        
        notification.querySelector('.notification-close').addEventListener('click', () => {
            notification.classList.remove('show');
        });
        
        // Background selector
        bgOptions.forEach(option => {
            option.addEventListener('click', () => {
                const bgType = option.getAttribute('data-bg');
                initVanta(bgType);
                
                // Update active state
                bgOptions.forEach(opt => opt.style.borderColor = 'transparent');
                option.style.borderColor = 'white';
            });
        });
        
        // Set first bg option as active
        if (bgOptions.length > 0) {
            bgOptions[0].style.borderColor = 'white';
        }
        
        // Close modal when clicking outside
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('active');
            }
        });
        
        // Branch selector functionality
        branchInput.addEventListener('click', () => {
            branchDropdown.classList.toggle('active');
        });
        
        branchOptions.forEach(option => {
            option.addEventListener('click', () => {
                const branch = option.getAttribute('data-branch');
                branchInput.value = branch;
                branchDropdown.classList.remove('active');
                
                // Update active state
                branchOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                
                showNotification('info', 'Branch Selected', `Switched to ${branch} branch`);
            });
        });
        
        // Close branch dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.branch-selector')) {
                branchDropdown.classList.remove('active');
            }
        });
    </script>
</body>
</html>
